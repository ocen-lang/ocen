import std::image::{ Image, Color }
import std::buffer::Buffer

def encode(img: &Image, data: &Buffer) {
    assert sizeof(Color) == 3, "Color size must be 3 bytes for PPM encoding"
    data <<= `P6 {img.width} {img.height} 255\n`
    data.write_bytes(img.data, img.width * img.height * 3)
}

def decode(data: &Buffer): &Image {
    assert false, "PPM decoding not implemented yet"
}

